(("undefined"!==typeof self?self:this)["webpackJsonpvue3_insta_stories"]=("undefined"!==typeof self?self:this)["webpackJsonpvue3_insta_stories"]||[]).push([[3],{"54af":function(e,t,i){"use strict";i.r(t);var s=i("8bbf"),n={class:"timeline"},r=Object(s["createVNode"])("div",{class:"progress"},"Â ",-1),o={class:"slideWrapper"};function l(e,t,i,l,a,d){return Object(s["openBlock"])(),Object(s["createBlock"])("div",{class:"story",style:"width:"+i.width+"px; height:"+i.height+"px;"},[Object(s["createVNode"])("div",n,[(Object(s["openBlock"])(!0),Object(s["createBlock"])(s["Fragment"],null,Object(s["renderList"])(i.slides,(function(e,t){return Object(s["openBlock"])(),Object(s["createBlock"])("div",{class:"slice",key:t},[r])})),128))]),Object(s["createVNode"])("div",o,[Object(s["renderSlot"])(e.$slots,"slide",{slide:i.slides[a.currentSlideIndex]})])],4)}i("a9e3"),i("159b");var a=i("1209"),d=i("c8b5"),c=i.n(d),f={name:"Story",props:{slides:Array,duration:Number,width:Number,height:Number},data:function(){var e=a["a"].timeline({autoplay:!1,easing:"linear"});return{currentSlideIndex:0,isActive:!1,timeline:e}},methods:{activate:function(){this.resetSlide()},deactivate:function(){this.timeline.pause()},resetSlide:function(){var e=0;for(var t in this.slides){if(0==this.currentSlideIndex)break;if(this.currentSlideIndex==t)break;void 0!=this.slides[t].duration?e+=this.slides[t].duration:e+=this.duration}this.timeline.pause(),this.timeline.seek(e),this.timeline.play()},nextSlide:function(){this.$emit("next_slide"),this.currentSlideIndex<this.slides.length-1?(this.currentSlideIndex++,this.resetSlide()):this.nextStory()},prevSlide:function(){this.$emit("prev_slide"),this.currentSlideIndex>0?(this.currentSlideIndex--,this.resetSlide()):this.previousStory()},nextStory:function(){this.$emit("next_story")},previousStory:function(){this.$emit("prev_story")},getOffset:function(e){var t=0,i=0;while(e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop))t+=e.offsetLeft-e.scrollLeft,i+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:i,left:t}}},mounted:function(){var e=this,t=this.$el.getElementsByClassName("timeline")[0];this.slides.forEach((function(i,s){var n=t.getElementsByClassName("slice")[s],r=void 0!=e.slides[s].duration?e.slides[s].duration:e.duration;e.timeline.add({duration:r,targets:n.getElementsByClassName("progress"),width:"100%",changeBegin:function(){e.currentSlideIndex=s},complete:function(){s===e.slides.length-1&&e.nextStory()}})})),this.hammer=new c.a.Manager(this.$el,{recognizers:[[c.a.Pan,{direction:c.a.DIRECTION_HORIZONTAL}],[c.a.Tap],[c.a.Press,{time:1,threshold:1e6}]]}),this.hammer.on("press",(function(){e.timeline.pause()})),this.hammer.on("pressup tap",(function(){e.timeline.play()})),this.hammer.on("tap",(function(t){t.center.x-e.getOffset(e.$el).left>e.width/3?e.nextSlide():e.prevSlide()})),this.hammer.on("pan",(function(t){t.isFinal&&(t.deltaX<0?e.nextStory():t.deltaX>0&&e.previousStory())}))}};i("d2be");f.render=l;t["default"]=f},d2be:function(e,t,i){"use strict";i("f82e")},f82e:function(e,t,i){var s=i("fbe6");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=i("499e").default;n("0c87e85c",s,!0,{sourceMap:!1,shadowMode:!1})},fbe6:function(e,t,i){var s=i("24fb");t=s(!1),t.push([e.i,".story{float:left;position:relative;z-index:1}.story .timeline{display:flex;flex-grow:0;position:absolute;top:5px;left:5px;right:5px;z-index:2}.story .timeline>.slice{background:rgba(0,0,0,.7);height:5px;margin:5px;width:100%;display:flex;align-items:flex-start;justify-content:left;border-radius:2px}.story .timeline>.slice>.progress{background:hsla(0,0%,100%,.8);height:5px;width:0}.story .slideWrapper{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}",""]),e.exports=t}}]);
//# sourceMappingURL=vue3-insta-stories.umd.min.3.js.map